{{- $src := .Get "src" }}
{{- $caption := .Get "caption" }}
{{- $alt := .Get "alt" | default $caption }}

{{- $img := $.Page.Resources.GetMatch $src }}
<figure style="overflow-x:auto;">
 <img src="{{ $src }}" alt="{{ $alt }}" style="min-width:{{ $img.Width }}px;"/>
{{- with $caption }}<figcaption>{{ . }}</figcaption>{{ end }}
</figure>